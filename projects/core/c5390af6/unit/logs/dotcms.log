[05/08/20 18:21:13:686 GMT]  INFO util.Config: Initializing properties reader.
[05/08/20 18:21:13:692 GMT]  INFO util.Config: Loading dotCMS [dotmarketing-config.properties] Properties...
[05/08/20 18:21:13:751 GMT]  INFO util.Config: dotCMS Properties [dotmarketing-config.properties] Loaded
[05/08/20 18:21:13:797 GMT]  INFO util.Config: Loading dotCMS [dotcms-config-cluster.properties] Properties...
[05/08/20 18:21:13:799 GMT]  INFO util.Config: dotCMS Properties [dotcms-config-cluster.properties] Loaded
[05/08/20 18:21:13:801 GMT]  INFO util.Config: Assigned default refresh: 5 minutes.
[05/08/20 18:21:14:274 GMT]  INFO util.SystemProperties: Loading file:/build/src/core/dotCMS/build/resources/main/system.properties
[05/08/20 18:21:14:274 GMT]  INFO util.SystemProperties: Loading file:/build/src/core/dotCMS/build/resources/main/system-ext.properties
[05/08/20 18:21:14:285 GMT]  INFO util.PropsLoader: Loading file:/build/src/core/dotCMS/build/resources/main/portal.properties
[05/08/20 18:21:14:285 GMT]  INFO util.PropsLoader: Loading file:/build/src/core/dotCMS/build/resources/main/portal-ext.properties
[05/08/20 18:21:14:401 GMT]  INFO business.CacheLocator: loading cache administrator: com.dotmarketing.business.ChainableCacheAdministratorImpl
[05/08/20 18:21:14:533 GMT]  INFO business.CacheLocator: loading cache administrator: com.dotmarketing.business.ChainableCacheAdministratorImpl
[05/08/20 18:21:14:603 GMT] FATAL util.FileUtil: Config.CONTEXT not initialized with a servlet context, dying
[05/08/20 18:21:14:609 GMT] FATAL util.FileUtil: Config.CONTEXT not initialized with a servlet context, dying
[05/08/20 18:21:14:611 GMT] FATAL util.FileUtil: Config.CONTEXT not initialized with a servlet context, dying
[05/08/20 18:21:14:617 GMT] FATAL util.FileUtil: Config.CONTEXT not initialized with a servlet context, dying
[05/08/20 18:21:14:618 GMT]  WARN lang.System: No Valid License Found : /build/src/core/dotCMS/./dotsecure/license/license.dat
[05/08/20 18:21:14:619 GMT]  INFO enterprise.LicenseUtil: Setting up default license
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : esquerycache: 10000
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : default: 1000
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : adminconfigpool: 100
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : companypool: 10
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : contentletcache: 5000
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : csscache: 2500
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : fileassetmetadatacache: 1000
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : identifiercache: 50000
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : indiciescache: 8
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : logmappercache: 10
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : navcache: 1000
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : parentpermissionablecache: 10000
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : permissioncache: 50000
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : portletpool: 100
[05/08/20 18:21:14:624 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : publishingendpointcache: 100
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : pushedassetscache: 5000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : templatecache: 500
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : translatedquerycache: 5000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : versioncache: 50000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : versioninfocache: 50000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : workflowactioncache: 10000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : workflowtaskcache: 10000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : shorty: 25000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : identifier404cache: 5000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : velocitycache: 1000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : vanityurldirectcache: 25000
[05/08/20 18:21:14:625 GMT]  INFO caffine.CaffineCache: ***	 Cache Config Memory : vanityurlsitecache: 5000
[05/08/20 18:21:14:912 GMT]  WARN hikari.HikariConfig: jdbc/dotCMSPool - idleTimeout is close to or more than maxLifetime, disabling it.
[05/08/20 18:21:14:914 GMT]  INFO hikari.HikariDataSource: jdbc/dotCMSPool - Starting...
[05/08/20 18:21:15:970 GMT] ERROR pool.HikariPool: jdbc/dotCMSPool - Exception during pool initialization.
org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:280) ~[postgresql-42.2.8.jar:42.2.8]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.8.jar:42.2.8]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:195) ~[postgresql-42.2.8.jar:42.2.8]
	at org.postgresql.Driver.makeConnection(Driver.java:458) ~[postgresql-42.2.8.jar:42.2.8]
	at org.postgresql.Driver.connect(Driver.java:260) ~[postgresql-42.2.8.jar:42.2.8]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.2.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:354) ~[HikariCP-3.4.2.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-3.4.2.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:473) ~[HikariCP-3.4.2.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:554) ~[HikariCP-3.4.2.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115) ~[HikariCP-3.4.2.jar:?]
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81) ~[HikariCP-3.4.2.jar:?]
	at com.dotmarketing.db.DBPropertiesDataSourceStrategy.apply(DBPropertiesDataSourceStrategy.java:63) ~[main/:?]
	at com.dotmarketing.db.DataSourceStrategyProvider.get(DataSourceStrategyProvider.java:68) ~[main/:?]
	at com.dotmarketing.db.DbConnectionFactory.getDataSource(DbConnectionFactory.java:117) ~[main/:?]
	at com.dotmarketing.db.DbConnectionFactory.getConnection(DbConnectionFactory.java:205) ~[main/:?]
	at com.dotmarketing.db.DbConnectionFactory.startTransactionIfNeeded(DbConnectionFactory.java:666) ~[main/:?]
	at com.dotmarketing.db.LocalTransaction.wrap(LocalTransaction.java:153) ~[main/:?]
	at com.dotcms.enterprise.license.LicenseManager$1.run(SourceFile:162) ~[ee-master-SNAPSHOT.jar:?]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:1.8.0_212]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_212]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_212]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_212]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_212]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_212]
	at org.postgresql.core.PGStream.<init>(PGStream.java:75) ~[postgresql-42.2.8.jar:42.2.8]
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:91) ~[postgresql-42.2.8.jar:42.2.8]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192) ~[postgresql-42.2.8.jar:42.2.8]
	... 19 more
[05/08/20 18:21:15:971 GMT]  WARN db.DataSourceStrategyProvider: Error initializing datasource. Reason: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.Trying to load datasource from context.xml ...
[05/08/20 18:21:15:971 GMT]  WARN db.DataSourceStrategyProvider: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
[05/08/20 18:21:15:971 GMT]  WARN db.DataSourceStrategyProvider: com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:589)
[05/08/20 18:21:15:980 GMT] ERROR db.TomcatDataSourceStrategy: ---------- Error getting dbconnection jdbc/dotCMSPool from context.xml
javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial
	at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:662) ~[?:1.8.0_212]
	at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313) ~[?:1.8.0_212]
	at javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:350) ~[?:1.8.0_212]
	at javax.naming.InitialContext.lookup(InitialContext.java:417) ~[?:1.8.0_212]
	at com.liferay.util.JNDIUtil.lookup(JNDIUtil.java:88) ~[main/:?]
	at com.dotmarketing.db.TomcatDataSourceStrategy.apply(TomcatDataSourceStrategy.java:36) ~[main/:?]
	at com.dotmarketing.db.DataSourceStrategyProvider.get(DataSourceStrategyProvider.java:99) ~[main/:?]
	at com.dotmarketing.db.DbConnectionFactory.getDataSource(DbConnectionFactory.java:117) ~[main/:?]
	at com.dotmarketing.db.DbConnectionFactory.getConnection(DbConnectionFactory.java:205) ~[main/:?]
	at com.dotmarketing.db.DbConnectionFactory.startTransactionIfNeeded(DbConnectionFactory.java:666) ~[main/:?]
	at com.dotmarketing.db.LocalTransaction.wrap(LocalTransaction.java:153) ~[main/:?]
	at com.dotcms.enterprise.license.LicenseManager$1.run(SourceFile:162) ~[ee-master-SNAPSHOT.jar:?]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
[05/08/20 18:21:15:984 GMT] ERROR db.DbConnectionFactory: ---------- DBConnectionFactory: error getting dbconnection jdbc/dotCMSPool
com.dotmarketing.exception.DotRuntimeException: javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial
	at com.dotmarketing.db.TomcatDataSourceStrategy.apply(TomcatDataSourceStrategy.java:43) ~[main/:?]
	at com.dotmarketing.db.DataSourceStrategyProvider.get(DataSourceStrategyProvider.java:99) ~[main/:?]
	at com.dotmarketing.db.DbConnectionFactory.getDataSource(DbConnectionFactory.java:117) ~[main/:?]
	at com.dotmarketing.db.DbConnectionFactory.getConnection(DbConnectionFactory.java:205) ~[main/:?]
	at com.dotmarketing.db.DbConnectionFactory.startTransactionIfNeeded(DbConnectionFactory.java:666) ~[main/:?]
	at com.dotmarketing.db.LocalTransaction.wrap(LocalTransaction.java:153) ~[main/:?]
	at com.dotcms.enterprise.license.LicenseManager$1.run(SourceFile:162) ~[ee-master-SNAPSHOT.jar:?]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
